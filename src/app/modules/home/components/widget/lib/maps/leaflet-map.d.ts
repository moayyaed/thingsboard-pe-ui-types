import L, { FeatureGroup, LatLngBounds, LatLngTuple } from 'leaflet';
import 'leaflet-providers';
import { MarkerClusterGroup } from 'leaflet.markercluster/dist/leaflet.markercluster';
import '@geoman-io/leaflet-geoman-free';
import { FormattedData, MapSettings, MarkerIconInfo, PolygonSettings, PolylineSettings, ReplaceInfo, UnitedMapSettings } from './map-models';
import { Marker } from './markers';
import { Observable } from 'rxjs';
import { Polyline } from './polyline';
import { Polygon } from './polygon';
import { WidgetContext } from '@home/models/widget-component.models';
import { TranslateService } from '@ngx-translate/core';
export default abstract class LeafletMap {
    ctx: WidgetContext;
    $container: HTMLElement;
    markers: Map<string, Marker>;
    polylines: Map<string, Polyline>;
    polygons: Map<string, Polygon>;
    map: L.Map;
    options: UnitedMapSettings;
    bounds: L.LatLngBounds;
    datasources: FormattedData[];
    markersCluster: MarkerClusterGroup;
    points: FeatureGroup;
    markersData: FormattedData[];
    polygonsData: FormattedData[];
    defaultMarkerIconInfo: MarkerIconInfo;
    loadingDiv: JQuery<HTMLElement>;
    loading: boolean;
    replaceInfoLabelMarker: Array<ReplaceInfo>;
    markerLabelText: string;
    polygonLabelText: string;
    replaceInfoLabelPolygon: Array<ReplaceInfo>;
    replaceInfoTooltipMarker: Array<ReplaceInfo>;
    markerTooltipText: string;
    drawRoutes: boolean;
    showPolygon: boolean;
    updatePending: boolean;
    editPolygons: boolean;
    selectedEntity: FormattedData;
    addMarkers: L.Marker[];
    addPolygons: L.Polygon[];
    southWest: L.LatLng;
    northEast: L.LatLng;
    saveLocation: (e: FormattedData, values: {
        [key: string]: any;
    }) => Observable<any>;
    saveMarkerLocation: (e: FormattedData, lat?: number, lng?: number) => Observable<any>;
    savePolygonLocation: (e: FormattedData, coordinates?: Array<any>) => Observable<any>;
    translateService: TranslateService;
    protected constructor(ctx: WidgetContext, $container: HTMLElement, options: UnitedMapSettings);
    initSettings(options: MapSettings): void;
    private selectEntityWithoutLocationDialog;
    private selectEntityWithoutLocation;
    private toggleDrawMode;
    addEditControl(): void;
    setLoading(loading: boolean): void;
    setMap(map: L.Map): void;
    createLatLng(lat: number, lng: number): L.LatLng;
    createBounds(): L.LatLngBounds;
    extendBounds(bounds: L.LatLngBounds, polyline: L.Polyline): void;
    invalidateSize(): void;
    onResize(): void;
    getCenter(): L.LatLng;
    fitBounds(bounds: LatLngBounds, padding?: LatLngTuple): void;
    convertPosition(expression: object): L.LatLng;
    convertPositionPolygon(expression: (LatLngTuple | LatLngTuple[] | LatLngTuple[][])[]): any;
    convertToCustomFormat(position: L.LatLng, offset?: number): object;
    convertToPolygonFormat(points: Array<any>): Array<any>;
    convertPolygonToCustomFormat(expression: any[][]): {
        [key: string]: any;
    };
    updateData(drawRoutes: boolean, showPolygon: boolean): void;
    private updateBoundsInternal;
    updateMarkers(markersData: FormattedData[], updateBounds?: boolean, callback?: any): void;
    dragMarker: (e: any, data?: FormattedData) => void;
    private createMarker;
    private updateMarker;
    deleteMarker(key: string): Marker;
    deletePolygon(key: string): L.Polygon<any>;
    updatePoints(pointsData: FormattedData[][], getTooltip: (point: FormattedData, points: FormattedData[]) => string): void;
    updatePolylines(polyData: FormattedData[][], dsData: FormattedData[], updateBounds?: boolean): void;
    createPolyline(data: FormattedData, tsData: FormattedData[], dsData: FormattedData[], settings: PolylineSettings, updateBounds?: boolean): void;
    updatePolyline(data: FormattedData, tsData: FormattedData[], dsData: FormattedData[], settings: PolylineSettings, updateBounds?: boolean): void;
    removePolyline(name: string): void;
    isValidPolygonPosition(data: FormattedData): boolean;
    updatePolygons(polyData: FormattedData[], updateBounds?: boolean): void;
    dragPolygonVertex: (e?: any, data?: FormattedData) => void;
    createPolygon(polyData: FormattedData, dataSources: FormattedData[], settings: UnitedMapSettings, updateBounds?: boolean): void;
    updatePolygon(polyData: FormattedData, dataSources: FormattedData[], settings: PolygonSettings, updateBounds?: boolean): void;
    removePolygon(name: string): void;
    remove(): void;
}
